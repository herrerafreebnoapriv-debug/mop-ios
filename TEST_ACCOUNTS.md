# æµ‹è¯•è´¦æˆ·ä¿¡æ¯

## ğŸ“‹ è´¦æˆ·åˆ—è¡¨

### 1. åå°ç®¡ç†æ€»è´¦æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

- **ç”¨æˆ·å**: `zhanan089`
- **å¯†ç **: `zn666@`
- **æ‰‹æœºå·**: `13800000000`
- **æƒé™**: ç®¡ç†å‘˜ (`is_admin = True`)
- **ç”¨é€”**: åå°ç®¡ç†ç³»ç»Ÿç™»å½•
- **çŠ¶æ€**: å·²åˆ›å»ºï¼Œå·²åŒæ„å…è´£å£°æ˜

### 2. å‰ç«¯æµ‹è¯•è´¦æˆ·ï¼ˆæ™®é€šç”¨æˆ·ï¼‰

- **ç”¨æˆ·å**: `zn6666`
- **å¯†ç **: `zn6666`
- **æ‰‹æœºå·**: `13900000000`
- **æƒé™**: æ™®é€šç”¨æˆ· (`is_admin = False`)
- **ç”¨é€”**: å‰ç«¯åŠŸèƒ½æµ‹è¯•
- **çŠ¶æ€**: å·²åˆ›å»ºï¼Œå·²åŒæ„å…è´£å£°æ˜

## ğŸ” ç™»å½•æ–¹å¼

### API ç™»å½•

ä½¿ç”¨ OAuth2 å¯†ç æµç™»å½•ï¼š

```bash
curl -X POST "http://127.0.0.1:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=zhanan089&password=zn666@"
```

### Swagger UI ç™»å½•

1. è®¿é—® `http://127.0.0.1:8000/docs`
2. æ‰¾åˆ° `/api/v1/auth/login` ç«¯ç‚¹
3. ç‚¹å‡» "Try it out"
4. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
5. ç‚¹å‡» "Execute"

### æ¼”ç¤ºé¡µé¢ç™»å½•

1. è®¿é—® `http://127.0.0.1:8000/demo`
2. åœ¨ç™»å½•åŒºåŸŸè¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

## âš ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç®¡ç†å‘˜è´¦æˆ·**: 
   - è¿™æ˜¯ç³»ç»Ÿç®¡ç†å‘˜è´¦æˆ·ï¼Œæ‹¥æœ‰æœ€é«˜æƒé™
   - è¯·å¦¥å–„ä¿ç®¡å¯†ç ï¼Œä¸è¦æ³„éœ²
   - å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹å¯†ç 

2. **æµ‹è¯•è´¦æˆ·**:
   - ä»…ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ
   - ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨
   - æµ‹è¯•å®Œæˆåå¯ä»¥åˆ é™¤æˆ–ç¦ç”¨

3. **å¯†ç å®‰å…¨**:
   - æ‰€æœ‰å¯†ç éƒ½å·²ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨
   - å¯†ç å“ˆå¸Œå­˜å‚¨åœ¨ `users.password_hash` å­—æ®µä¸­
   - æ˜æ–‡å¯†ç ä¸ä¼šå­˜å‚¨åœ¨æ•°æ®åº“ä¸­

## ğŸ”§ è´¦æˆ·ç®¡ç†

### æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯

```bash
# ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•åï¼Œè®¿é—®ç”¨æˆ·ä¿¡æ¯ç«¯ç‚¹
curl -X GET "http://127.0.0.1:8000/api/v1/auth/me" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

### é‡æ–°åˆ›å»ºè´¦æˆ·

å¦‚æœéœ€è¦é‡æ–°åˆ›å»ºè¿™äº›è´¦æˆ·ï¼Œè¿è¡Œï¼š

```bash
python scripts/create_test_accounts.py
```

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥è´¦æˆ·æ˜¯å¦å·²å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™è·³è¿‡åˆ›å»ºã€‚

## ğŸ“ æ•°æ®åº“å­—æ®µè¯´æ˜

- `is_admin`: å¸ƒå°”å€¼ï¼Œæ ‡è¯†æ˜¯å¦ä¸ºç®¡ç†å‘˜è´¦æˆ·
- `agreed_at`: å·²è‡ªåŠ¨è®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼ˆå·²åŒæ„å…è´£å£°æ˜ï¼‰
- `language`: é»˜è®¤è®¾ç½®ä¸º `zh_CN`
- `first_used_at`: è®¾ç½®ä¸ºè´¦æˆ·åˆ›å»ºæ—¶é—´
- `last_active_at`: è®¾ç½®ä¸ºè´¦æˆ·åˆ›å»ºæ—¶é—´

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### æµ‹è¯•ç®¡ç†å‘˜ç™»å½•

```python
import requests

# ç®¡ç†å‘˜ç™»å½•
response = requests.post(
    "http://127.0.0.1:8000/api/v1/auth/login",
    data={
        "username": "zhanan089",
        "password": "zn666@"
    }
)

token = response.json()["access_token"]
print(f"ç®¡ç†å‘˜ Token: {token}")
```

### æµ‹è¯•æ™®é€šç”¨æˆ·ç™»å½•

```python
import requests

# æ™®é€šç”¨æˆ·ç™»å½•
response = requests.post(
    "http://127.0.0.1:8000/api/v1/auth/login",
    data={
        "username": "zn6666",
        "password": "zn6666"
    }
)

token = response.json()["access_token"]
print(f"ç”¨æˆ· Token: {token}")
```

---

**æœ€åæ›´æ–°**: 2026-01-10
**çŠ¶æ€**: âœ… è´¦æˆ·å·²åˆ›å»ºå¹¶å¯ç”¨
