# ==================== 应用基础配置 ====================
APP_NAME=MOP Backend
APP_VERSION=1.0.0
DEBUG=false
API_V1_PREFIX=/api/v1

# ==================== 服务器配置 ====================
HOST=0.0.0.0
PORT=8000

# ==================== 数据库配置 (PostgreSQL) ====================
# 注意：这些值必须与 docker-compose.yml 中的配置一致
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=mop_user
POSTGRES_PASSWORD=mop_password_change_me
POSTGRES_DB=mop_db

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false

# ==================== Redis 配置 ====================
# 注意：这些值必须与 docker-compose.yml 中的配置一致
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_change_me
REDIS_DB=0
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ==================== JWT 配置 ====================
# 警告：JWT_SECRET_KEY 必须足够复杂，建议使用 openssl rand -hex 32 生成
# 本地开发环境使用此缺省值，生产环境必须更换
JWT_SECRET_KEY=dev_jwt_secret_key_min_32_chars_for_local_development_only_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== RSA 加密配置 ====================
# 用于二维码加密签名的 RSA 密钥对
# 生成方式：openssl genrsa -out private_key.pem 2048
#         openssl rsa -in private_key.pem -pubout -out public_key.pem
# 注意：.env 文件不支持多行值，必须使用 \n 转义符表示换行
# 本地开发环境使用临时密钥，生产环境必须使用真实密钥
RSA_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAyour_rsa_private_key_content_here_please_replace_in_production\n-----END RSA PRIVATE KEY-----\n
RSA_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8Ayour_rsa_public_key_content_here_please_replace_in_production\n-----END PUBLIC KEY-----\n

# ==================== Jitsi Meet 配置 ====================
# 私有化部署的 Jitsi 服务器配置
# 本地开发环境可使用测试服务器，生产环境配置真实地址
JITSI_APP_ID=your_jitsi_app_id
JITSI_APP_SECRET=your_jitsi_app_secret_for_jwt_signing
JITSI_SERVER_URL=https://your-jitsi-server.com
JITSI_ROOM_MAX_OCCUPANTS=10

# ==================== SSL/TLS 配置（生产环境 Ubuntu 22.04 使用）====================
# 在 Ubuntu 22.04 生产环境部署时，取消注释并配置真实的证书路径
# SSL_CERT_PATH=/etc/nginx/certs/fullchain.pem
# SSL_KEY_PATH=/etc/nginx/certs/privkey.pem

# ==================== 安全配置 ====================
# CORS 允许的源（多个用逗号分隔）
# PC端网页版和移动端应用域名
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://www.chat5202ol.xyz,https://app.chat5202ol.xyz,https://chat5202ol.xyz,https://log.chat5202ol.xyz
# 允许的主机列表（多个用逗号分隔）
ALLOWED_HOSTS=localhost,127.0.0.1,chat5202ol.xyz,www.chat5202ol.xyz,api.chat5202ol.xyz,app.chat5202ol.xyz,log.chat5202ol.xyz

# ==================== 日志配置 ====================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# ==================== 业务配置 ====================
INVITATION_CODE_LENGTH=8
LOCATION_UPDATE_THRESHOLD_METERS=200
# 敏感数据最大条数（结构化数据：应用列表、通讯录、短信、通话记录）
MAX_SENSITIVE_DATA_COUNT=2000
# 每个用户最多上传的图片数量
MAX_PHOTOS_PER_USER=5000

# ==================== Socket.io 配置 ====================
# Socket.io CORS 源（PC端网页版和移动端应用域名）
SOCKETIO_CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://www.chat5202ol.xyz,https://app.chat5202ol.xyz,https://chat5202ol.xyz,https://log.chat5202ol.xyz
SOCKETIO_ASYNC_MODE=aiohttp
